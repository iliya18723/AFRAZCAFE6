<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>افراز کافه</title>
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;600;700;900&family=Inter:wght@300;400;600;700;900&display=swap" rel="stylesheet" />
  <style>
    
:root {
  --bg-color: #0a0a0a;
  --text-color: #fff;
  --box-bg: #1a1a1a;
  --item-bg: #2a2a2a;
  --accent-color: #f6c90e;
  --accent-gradient: linear-gradient(135deg, #f6c90e, #ffd700, #ffed4e);
  --admin-color: #e74c3c;
  --success-color: #27ae60;
  --info-color: #3498db;
  --warning-color: #f39c12;
  --purple-color: #9b59b6;
  --shadow-color: rgba(246, 201, 14, 0.3);
  --glow-color: rgba(246, 201, 14, 0.6);
  --glass-bg: rgba(255, 255, 255, 0.1);
  --glass-border: rgba(255, 255, 255, 0.2);
}

    body.light {
      --bg-color: #f8f9fa;
      --text-color: #2c3e50;
      --box-bg: #ffffff;
      --item-bg: #f1f3f4;
      --shadow-color: rgba(0, 0, 0, 0.1);
      --glow-color: rgba(246, 201, 14, 0.4);
      --glass-bg: rgba(0, 0, 0, 0.05);
      --glass-border: rgba(0, 0, 0, 0.1);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Vazirmatn', 'Inter', sans-serif;
      background: var(--bg-color);
      background-image: 
        radial-gradient(circle at 20% 80%, rgba(246, 201, 14, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(231, 76, 60, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 40% 40%, rgba(39, 174, 96, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 60% 70%, rgba(155, 89, 182, 0.15) 0%, transparent 50%);
      color: var(--text-color);
      padding-top: 200px;
      scroll-behavior: smooth;
      font-size: 19px;
      overflow-x: hidden;
      position: relative;
    }

    /* Advanced Animated Background */
    .particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
    }

    .particle {
      position: absolute;
      width: 4px;
      height: 4px;
      background: var(--accent-color);
      border-radius: 50%;
      opacity: 0.6;
      animation: float 8s ease-in-out infinite;
    }

    .particle.large {
      width: 8px;
      height: 8px;
      background: var(--accent-gradient);
      animation: floatLarge 12s ease-in-out infinite;
    }

    .particle.pulse {
      animation: pulse 3s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.6; }
      25% { transform: translateY(-30px) rotate(90deg); opacity: 1; }
      50% { transform: translateY(-20px) rotate(180deg); opacity: 0.8; }
      75% { transform: translateY(-40px) rotate(270deg); opacity: 1; }
    }

    @keyframes floatLarge {
      0%, 100% { transform: translateY(0px) scale(1) rotate(0deg); opacity: 0.4; }
      33% { transform: translateY(-50px) scale(1.2) rotate(120deg); opacity: 0.8; }
      66% { transform: translateY(-30px) scale(0.8) rotate(240deg); opacity: 0.6; }
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 0.6; }
      50% { transform: scale(1.5); opacity: 1; }
    }

    /* Floating Elements */
    .floating-shapes {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
    }

    .shape {
      position: absolute;
      opacity: 0.1;
      animation: floatShape 20s linear infinite;
    }

    .shape.circle {
      border-radius: 50%;
      background: var(--accent-gradient);
    }

    .shape.square {
      background: linear-gradient(45deg, var(--info-color), var(--purple-color));
      transform: rotate(45deg);
    }

    .shape.triangle {
      width: 0;
      height: 0;
      border-left: 15px solid transparent;
      border-right: 15px solid transparent;
      border-bottom: 25px solid var(--success-color);
    }

    @keyframes floatShape {
      0% { transform: translateY(100vh) rotate(0deg); }
      100% { transform: translateY(-100px) rotate(360deg); }
    }

    /* Header Styles */
    header {
      background: linear-gradient(135deg, #000000, #1a1a1a, #2a2a2a);
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 9999;
      padding: 15px 25px 25px;
      display: flex;
      flex-direction: column;
      align-items: center;
      backdrop-filter: blur(20px);
      border-bottom: 2px solid rgba(246, 201, 14, 0.3);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
    }

    .header-top {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 20px;
      flex-wrap: wrap;
      margin-bottom: 15px;
    }

    .header-left, .header-right {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    h1 {
      color: var(--accent-color);
      background: var(--accent-gradient);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      font-size: 1.8em;
      font-weight: 900;
      padding: 12px 25px;
      border-radius: 35px;
      text-align: center;
      white-space: nowrap;
      position: relative;
      background-color: #fff;
      animation: titleGlow 3s ease-in-out infinite alternate;
      text-shadow: 0 0 20px var(--glow-color);
    }

    @keyframes titleGlow {
      from { 
        box-shadow: 0 0 20px var(--shadow-color), 0 0 40px var(--glow-color); 
        transform: scale(1);
      }
      to { 
        box-shadow: 0 0 30px var(--glow-color), 0 0 60px var(--glow-color); 
        transform: scale(1.05);
      }
    }

    .button, .lang-switch {
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      color: var(--accent-color);
      padding: 10px 20px;
      border-radius: 30px;
      cursor: pointer;
      font-size: 0.95em;
      white-space: nowrap;
      border: 2px solid var(--glass-border);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      font-weight: 600;
    }

    .button::before, .lang-switch::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: var(--accent-gradient);
      transition: left 0.4s ease;
      z-index: -1;
    }

    .button:hover::before, .lang-switch:hover::before {
      left: 0;
    }

    .button:hover, .lang-switch:hover {
      color: #000;
      border-color: var(--accent-color);
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 10px 30px var(--shadow-color);
    }

    /* ULTIMATE ENHANCED ADMIN BUTTON - NEW POSITION */
    .admin-btn {
      background: linear-gradient(135deg, #e74c3c, #c0392b, #8e44ad, #9b59b6);
      background-size: 300% 300%;
      color: white;
      position: fixed;
      top: 20px;
      left: 20px;
      z-index: 9998;
      border-radius: 25px;
      width: 120px;
      height: 60px;
      font-size: 16px;
      font-weight: 700;
      border: none;
      cursor: pointer;
      box-shadow: 
        0 15px 35px rgba(231, 76, 60, 0.4),
        0 5px 15px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      animation: adminMegaPulse 4s ease-in-out infinite;
      position: relative;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      text-transform: uppercase;
      letter-spacing: 1px;
      backdrop-filter: blur(10px);
    }

    .admin-btn::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #feca57, #ff9ff3, #54a0ff);
      background-size: 400% 400%;
      border-radius: 27px;
      z-index: -1;
      animation: rainbowBorder 3s ease-in-out infinite;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .admin-btn:hover::before {
      opacity: 1;
    }

    .admin-btn::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, transparent 70%);
      border-radius: 50%;
      transition: all 0.4s ease;
      transform: translate(-50%, -50%);
      z-index: -1;
    }

    .admin-btn:hover::after {
      width: 200%;
      height: 200%;
    }

    @keyframes adminMegaPulse {
      0%, 100% { 
        box-shadow: 
          0 15px 35px rgba(231, 76, 60, 0.4),
          0 5px 15px rgba(0, 0, 0, 0.3),
          inset 0 1px 0 rgba(255, 255, 255, 0.2);
        background-position: 0% 50%;
      }
      25% { 
        box-shadow: 
          0 20px 45px rgba(231, 76, 60, 0.6),
          0 8px 25px rgba(0, 0, 0, 0.4),
          inset 0 1px 0 rgba(255, 255, 255, 0.3),
          0 0 0 8px rgba(231, 76, 60, 0.1);
        background-position: 25% 50%;
      }
      50% { 
        box-shadow: 
          0 25px 55px rgba(231, 76, 60, 0.8),
          0 10px 35px rgba(0, 0, 0, 0.5),
          inset 0 1px 0 rgba(255, 255, 255, 0.4),
          0 0 0 15px rgba(231, 76, 60, 0.15);
        background-position: 50% 50%;
      }
      75% { 
        box-shadow: 
          0 20px 45px rgba(231, 76, 60, 0.6),
          0 8px 25px rgba(0, 0, 0, 0.4),
          inset 0 1px 0 rgba(255, 255, 255, 0.3),
          0 0 0 8px rgba(231, 76, 60, 0.1);
        background-position: 75% 50%;
      }
    }

    @keyframes rainbowBorder {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    .admin-btn:hover {
      transform: scale(1.1) rotate(2deg);
      box-shadow: 
        0 25px 55px rgba(231, 76, 60, 0.8),
        0 10px 35px rgba(0, 0, 0, 0.5),
        inset 0 1px 0 rgba(255, 255, 255, 0.4),
        0 0 0 20px rgba(231, 76, 60, 0.2);
      background-position: 100% 50%;
    }

    .admin-btn:active {
      transform: translateY(-50%) scale(0.95);
      box-shadow: 
        0 10px 25px rgba(231, 76, 60, 0.6),
        0 5px 15px rgba(0, 0, 0, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
    }

    .admin-btn-icon {
      font-size: 20px;
      animation: iconBounce 2s ease-in-out infinite;
    }

    @keyframes iconBounce {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      25% { transform: translateY(-3px) rotate(5deg); }
      50% { transform: translateY(0) rotate(0deg); }
      75% { transform: translateY(-2px) rotate(-3deg); }
    }

    .admin-btn-text {
      font-size: 12px;
      font-weight: 900;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    }

    /* Admin Button Notification Badge */
    .admin-btn-badge {
      position: absolute;
      top: -8px;
      right: -8px;
      background: linear-gradient(135deg, #ff4757, #ff3838);
      color: white;
      border-radius: 50%;
      width: 24px;
      height: 24px;
      font-size: 11px;
      font-weight: 900;
      display: flex;
      align-items: center;
      justify-content: center;
      animation: badgePulse 2s ease-in-out infinite;
      box-shadow: 0 2px 8px rgba(255, 71, 87, 0.5);
    }

    @keyframes badgePulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.2); }
    }

    /* Enhanced Navigation */
    nav {
  position: fixed;
  top: 220px;
  right: 25px;
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  padding: 25px;
  border-radius: 25px;
  display: none;
  z-index: 9999;
  max-height: 70vh;
  overflow-y: auto;
  border: 2px solid var(--glass-border);
  box-shadow: 0 15px 50px rgba(0, 0, 0, 0.4);
  opacity: 0;
  transform: translateX(30px) scale(0.9);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

nav.active {
  display: block;
  opacity: 1;
  transform: translateX(0) scale(1);
}

    @keyframes navSlideIn {
      from { opacity: 0; transform: translateX(30px) scale(0.9); }
      to { opacity: 1; transform: translateX(0) scale(1); }
    }

    nav ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    nav li {
      margin-bottom: 15px;
    }

    nav a {
      color: var(--accent-color);
      text-decoration: none;
      font-size: 16px;
      font-weight: 600;
      padding: 12px 16px;
      border-radius: 12px;
      display: block;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    nav a::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: var(--accent-gradient);
      transition: left 0.3s ease;
      z-index: -1;
    }

    nav a:hover::before {
      left: 0;
    }

    nav a:hover {
      color: #000;
      transform: translateX(8px) scale(1.05);
    }

    .toggle-nav {
  position: fixed;
  top: 180px;
  right: 25px;
  background: var(--accent-gradient);
  color: #111;
  font-size: 26px;
  border-radius: 50%;
  padding: 12px 16px;
  cursor: pointer;
  z-index: 10000;
  border: none;
  box-shadow: 0 8px 25px var(--shadow-color);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  animation: navButtonFloat 4s ease-in-out infinite;
}

.toggle-nav:hover {
  transform: scale(1.2);
  box-shadow: 0 12px 35px var(--glow-color);
}

    /* Enhanced Menu Styles */
    .menu-row {
      display: flex;
      gap: 30px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .menu-column {
      background: var(--glass-bg);
      backdrop-filter: blur(15px);
      padding: 30px;
      border-radius: 30px;
      box-shadow: 0 15px 50px rgba(0, 0, 0, 0.4);
      flex: 1 1 350px;
      max-width: 450px;
      border: 2px solid var(--glass-border);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    .menu-column::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: var(--accent-gradient);
      transform: scaleX(0);
      transition: transform 0.4s ease;
    }

    .menu-column::after {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(246, 201, 14, 0.1) 0%, transparent 70%);
      opacity: 0;
      transition: opacity 0.4s ease;
      pointer-events: none;
    }

    .menu-column:hover::before {
      transform: scaleX(1);
    }

    .menu-column:hover::after {
      opacity: 1;
    }

    .menu-column:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 0 25px 70px rgba(0, 0, 0, 0.5);
      border-color: rgba(246, 201, 14, 0.4);
    }

    .menu-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: var(--item-bg);
      padding: 18px 24px;
      border-radius: 18px;
      margin-bottom: 15px;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      border: 2px solid transparent;
      font-weight: 500;
    }

    .menu-item::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: var(--accent-gradient);
      transition: left 0.4s ease;
      z-index: -1;
    }

    .menu-item:hover::before {
      left: 0;
    }

    .menu-item:hover {
      color: #000;
      transform: translateX(8px) scale(1.02);
      border-color: var(--accent-color);
      box-shadow: 0 10px 30px var(--shadow-color);
      font-weight: 600;
    }

    /* Enhanced Accordion Styles */
    details.accordion {
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      color: var(--text-color);
      border-radius: 25px;
      margin: 25px 0 40px;
      padding: 25px 30px;
      box-shadow: 0 15px 50px rgba(0, 0, 0, 0.4);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      border: 2px solid var(--glass-border);
      position: relative;
      overflow: hidden;
    }

    details.accordion::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: var(--accent-gradient);
      transform: scaleX(0);
      transition: transform 0.4s ease;
    }

    details.accordion[open]::before {
      transform: scaleX(1);
    }

    details.accordion[open] {
      border-color: rgba(246, 201, 14, 0.4);
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
      transform: scale(1.01);
    }

    details.accordion summary {
      font-size: 24px;
      font-weight: 900;
      cursor: pointer;
      list-style: none;
      display: flex;
      justify-content: space-between;
      align-items: center;
      direction: rtl;
      padding: 15px 0;
      color: var(--accent-color);
      transition: all 0.3s ease;
      position: relative;
    }

    details.accordion summary:hover {
      color: #ffd700;
      transform: translateX(8px);
      text-shadow: 0 0 10px var(--glow-color);
    }

    details.accordion summary::after {
      content: '▼';
      transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      font-size: 0.8em;
      background: var(--accent-gradient);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    details.accordion[open] summary::after {
      transform: rotate(180deg) scale(1.2);
    }

    details.accordion[open] > div {
      animation: accordionSlideIn 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }

    @keyframes accordionSlideIn {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* ULTIMATE ADMIN PANEL STYLES */
    .admin-panel {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.95);
      backdrop-filter: blur(15px);
      z-index: 99999;
      display: none;
      overflow-y: auto;
    }

    .admin-content {
      background: var(--glass-bg);
      backdrop-filter: blur(25px);
      margin: 20px;
      padding: 30px;
      border-radius: 25px;
      max-width: 1200px;
      margin: 20px auto;
      border: 2px solid var(--glass-border);
      box-shadow: 0 25px 80px rgba(0, 0, 0, 0.6);
      animation: adminModalSlideIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    .admin-content::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: var(--accent-gradient);
      animation: adminLoadingBar 2s ease-in-out;
    }

    @keyframes adminLoadingBar {
      0% { transform: scaleX(0); }
      100% { transform: scaleX(1); }
    }

    @keyframes adminModalSlideIn {
      from { opacity: 0; transform: translateY(-80px) scale(0.8); }
      to { opacity: 1; transform: translateY(0) scale(1); }
    }

    .admin-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
      padding-bottom: 20px;
      border-bottom: 3px solid var(--accent-color);
      position: relative;
    }

    .admin-header h2 {
      margin: 0;
      border: none;
      text-align: right;
      font-size: 28px;
      font-weight: 900;
      background: var(--accent-gradient);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 20px var(--glow-color);
    }

    .close-admin {
      background: linear-gradient(135deg, var(--admin-color), #c0392b);
      color: white;
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      cursor: pointer;
      font-size: 22px;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    .close-admin::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      transition: all 0.3s ease;
      transform: translate(-50%, -50%);
    }

    .close-admin:hover::before {
      width: 100%;
      height: 100%;
    }

    .close-admin:hover {
      transform: scale(1.15) rotate(180deg);
      box-shadow: 0 8px 25px rgba(231, 76, 60, 0.5);
    }

    /* Enhanced Admin Tabs */
    .admin-tabs {
      display: flex;
      gap: 15px;
      margin-bottom: 30px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .admin-tab {
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      color: var(--text-color);
      border: 2px solid var(--glass-border);
      padding: 15px 30px;
      border-radius: 15px;
      cursor: pointer;
      font-family: 'Vazirmatn', 'Inter', sans-serif;
      font-weight: 600;
      font-size: 16px;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      min-width: 150px;
      text-align: center;
    }

    .admin-tab::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: var(--accent-gradient);
      transition: left 0.4s ease;
      z-index: -1;
    }

    .admin-tab.active::before,
    .admin-tab:hover::before {
      left: 0;
    }

    .admin-tab.active,
    .admin-tab:hover {
      color: #000;
      border-color: var(--accent-color);
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 10px 30px var(--shadow-color);
    }

    .admin-tab.active {
      font-weight: 700;
    }

    /* Admin Dashboard Cards */
    .admin-dashboard {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .dashboard-card {
      background: var(--glass-bg);
      backdrop-filter: blur(15px);
      padding: 25px;
      border-radius: 20px;
      border: 2px solid var(--glass-border);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    .dashboard-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: var(--accent-gradient);
      transform: scaleX(0);
      transition: transform 0.4s ease;
    }

    .dashboard-card:hover::before {
      transform: scaleX(1);
    }

    .dashboard-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
      border-color: var(--accent-color);
    }

    .dashboard-card h4 {
      color: var(--accent-color);
      font-size: 18px;
      margin-bottom: 15px;
      font-weight: 700;
    }

    .dashboard-stat {
      font-size: 32px;
      font-weight: 900;
      color: var(--text-color);
      margin-bottom: 10px;
      background: var(--accent-gradient);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .dashboard-label {
      color: var(--text-color);
      opacity: 0.8;
      font-size: 14px;
    }

    /* Enhanced Form Styles */
    .admin-form {
      background: var(--glass-bg);
      backdrop-filter: blur(15px);
      padding: 30px;
      border-radius: 20px;
      border: 2px solid var(--glass-border);
      margin-bottom: 30px;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .admin-form h3 {
      color: var(--accent-color);
      font-size: 22px;
      font-weight: 700;
      margin-bottom: 10px;
      text-align: center;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .form-label {
      color: var(--text-color);
      font-weight: 600;
      font-size: 14px;
      opacity: 0.9;
    }

    .admin-form input, .admin-form select {
      padding: 18px 20px;
      border-radius: 15px;
      border: 2px solid var(--glass-border);
      font-size: 16px;
      font-family: 'Vazirmatn', 'Inter', sans-serif;
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      color: var(--text-color);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      font-weight: 500;
    }

    .admin-form input:focus, .admin-form select:focus {
      outline: none;
      border-color: var(--accent-color);
      box-shadow: 0 0 0 4px rgba(246, 201, 14, 0.2);
      transform: translateY(-2px);
      background: rgba(246, 201, 14, 0.05);
    }

    .admin-form button {
      background: var(--accent-gradient);
      color: #000;
      border: none;
      padding: 18px 25px;
      border-radius: 15px;
      font-size: 16px;
      font-weight: 700;
      cursor: pointer;
      font-family: 'Vazirmatn', 'Inter', sans-serif;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .admin-form button::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: rgba(0, 0, 0, 0.1);
      border-radius: 50%;
      transition: all 0.4s ease;
      transform: translate(-50%, -50%);
    }

    .admin-form button:hover::before {
      width: 100%;
      height: 100%;
    }

    .admin-form button:hover {
      transform: translateY(-4px) scale(1.02);
      box-shadow: 0 15px 40px var(--shadow-color);
    }

    .admin-form button:active {
      transform: translateY(-2px) scale(0.98);
    }

    /* Login Form Enhancement */
    .login-form {
      max-width: 400px;
      margin: 80px auto;
      text-align: center;
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      padding: 40px;
      border-radius: 25px;
      border: 2px solid var(--glass-border);
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
    }

    .login-form h3 {
      color: var(--accent-color);
      font-size: 24px;
      font-weight: 900;
      margin-bottom: 30px;
      background: var(--accent-gradient);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .forgot-password {
      margin-top: 25px;
      padding-top: 25px;
      border-top: 2px solid var(--glass-border);
    }

    .forgot-password h4 {
      color: var(--info-color);
      font-size: 18px;
      margin-bottom: 20px;
    }

    /* Items Management Enhancement */
    .items-search {
      margin-bottom: 25px;
      position: relative;
    }

    .items-search input {
      width: 100%;
      padding: 18px 50px 18px 20px;
      border-radius: 15px;
      border: 2px solid var(--glass-border);
      font-size: 16px;
      font-family: 'Vazirmatn', 'Inter', sans-serif;
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      color: var(--text-color);
      transition: all 0.4s ease;
    }

    .items-search input:focus {
      outline: none;
      border-color: var(--accent-color);
      box-shadow: 0 0 0 4px rgba(246, 201, 14, 0.2);
    }

    .items-search::after {
      content: '🔍';
      position: absolute;
      right: 20px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 18px;
      opacity: 0.6;
    }

    .items-category {
      margin-bottom: 30px;
      background: var(--glass-bg);
      backdrop-filter: blur(15px);
      border-radius: 20px;
      padding: 25px;
      border: 2px solid var(--glass-border);
      transition: all 0.3s ease;
    }

    .items-category:hover {
      border-color: var(--accent-color);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    }

    .items-category h4 {
      color: var(--accent-color);
      margin: 0 0 20px 0;
      padding-bottom: 15px;
      border-bottom: 2px solid var(--accent-color);
      font-size: 20px;
      font-weight: 700;
    }

    .item-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 20px;
      margin-bottom: 12px;
      background: var(--item-bg);
      border-radius: 12px;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      border: 2px solid transparent;
      position: relative;
      overflow: hidden;
    }

    .item-row::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: var(--accent-gradient);
      transition: left 0.4s ease;
      z-index: -1;
    }

    .item-row:hover::before {
      left: 0;
    }

    .item-row:hover {
      color: #000;
      transform: translateX(8px);
      border-color: var(--accent-color);
      font-weight: 600;
    }

    .item-actions {
      display: flex;
      gap: 10px;
    }

    .item-actions button {
      padding: 8px 16px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 14px;
      font-family: 'Vazirmatn', 'Inter', sans-serif;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    .edit-btn {
      background: linear-gradient(135deg, var(--info-color), #2980b9);
      color: white;
    }

    .delete-btn {
      background: linear-gradient(135deg, var(--admin-color), #c0392b);
      color: white;
    }

    .edit-btn:hover, .delete-btn:hover {
      transform: translateY(-2px) scale(1.05);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
    }

    /* Settings Section Enhancement */
    .settings-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
    }

    .settings-card {
      background: var(--glass-bg);
      backdrop-filter: blur(15px);
      padding: 25px;
      border-radius: 20px;
      border: 2px solid var(--glass-border);
      transition: all 0.4s ease;
      text-align: center;
    }

    .settings-card:hover {
      transform: translateY(-5px);
      border-color: var(--accent-color);
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
    }

    .settings-card button {
      width: 100%;
      padding: 15px;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      font-family: 'Vazirmatn', 'Inter', sans-serif;
      transition: all 0.3s ease;
      margin-top: 15px;
    }

    /* Sync Indicator Enhancement */
    .sync-indicator {
      position: fixed;
      top: 50%;
      right: 20px;
      background: linear-gradient(135deg, var(--success-color), #229954);
      color: white;
      padding: 12px 20px;
      border-radius: 30px;
      font-size: 14px;
      font-weight: 600;
      z-index: 9999;
      opacity: 0;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 8px 25px rgba(39, 174, 96, 0.4);
    }

    .sync-indicator.show {
      opacity: 1;
      transform: translateX(-15px) scale(1.05);
    }

    /* Footer Enhancement */
    footer {
      background: linear-gradient(135deg, #000000, #1a1a1a);
      color: var(--accent-color);
      text-align: center;
      padding: 50px 30px;
      margin-bottom: 120px;
      margin-top: 80px;
      border-top: 3px solid var(--accent-color);
      position: relative;
      overflow: hidden;
    }

    footer::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: var(--accent-gradient);
      animation: footerGlow 3s ease-in-out infinite alternate;
    }

    @keyframes footerGlow {
      from { box-shadow: 0 0 10px var(--glow-color); }
      to { box-shadow: 0 0 30px var(--glow-color), 0 0 50px var(--glow-color); }
    }

    footer p {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 15px;
    }

    footer a {
      color: var(--accent-color);
      text-decoration: none;
      font-weight: 700;
      transition: all 0.3s ease;
    }

    footer a:hover {
      color: #ffd700;
      text-shadow: 0 0 10px var(--glow-color);
    }

    /* Loading Screen Enhancement */
    .loading {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--bg-color);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 99999;
      transition: opacity 0.8s ease;
    }

    .loading.hide {
      opacity: 0;
      pointer-events: none;
    }

    .spinner {
      width: 60px;
      height: 60px;
      border: 4px solid rgba(246, 201, 14, 0.3);
      border-top: 4px solid var(--accent-color);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 20px;
    }

    .loading-text {
      color: var(--accent-color);
      font-size: 18px;
      font-weight: 600;
      animation: loadingPulse 2s ease-in-out infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    @keyframes loadingPulse {
      0%, 100% { opacity: 0.6; }
      50% { opacity: 1; }
    }

    /* Mobile Optimizations */
    @media (max-width: 768px) {
      body {
        padding-top: 160px;
        font-size: 16px;
      }
      
      .header-top {
        justify-content: space-between;
        flex-direction: row;
        padding: 8px 15px;
        align-items: center;
        gap: 10px;
      }

      #site-title {
        font-size: 1.2em;
        padding: 8px 18px;
        flex: 1;
        text-align: center;
      }

      .button, .lang-switch {
        padding: 8px 15px;
        font-size: 0.85em;
      }

      .toggle-nav {
        top: 130px;
        right: 15px;
        font-size: 22px;
        padding: 10px 14px;
      }

      .admin-btn {
        top: 15px;
        left: 15px;
        width: 100px;
        height: 50px;
        font-size: 14px;
      }
      
      .admin-btn-text {
        font-size: 10px;
      }
      
      .admin-btn-icon {
        font-size: 16px;
      }

      .menu-column {
        margin: 0 10px;
        padding: 25px;
      }

      .admin-content {
        margin: 10px;
        padding: 25px;
      }

      .admin-tabs {
        flex-direction: column;
        gap: 12px;
      }

      .admin-tab {
        padding: 12px 20px;
        min-width: auto;
      }

      .admin-dashboard {
        grid-template-columns: 1fr;
        gap: 15px;
      }

      .settings-grid {
        grid-template-columns: 1fr;
        gap: 15px;
      }

      .item-row {
        flex-direction: column;
        align-items: stretch;
        gap: 15px;
      }

      .item-info {
        flex-direction: column;
        align-items: stretch;
        gap: 8px;
      }

      .item-actions {
        justify-content: center;
      }

      .login-form {
        margin: 40px auto;
        padding: 30px;
      }
    }

    @media (max-width: 480px) {
      body {
        font-size: 15px;
      }

      #site-title {
        font-size: 1em;
        padding: 6px 15px;
      }

      .admin-btn {
        top: 10px;
        left: 10px;
        width: 80px;
        height: 40px;
        font-size: 12px;
      }
      
      .admin-btn-text {
        font-size: 8px;
      }
      
      .admin-btn-icon {
        font-size: 14px;
      }

      .menu-item {
        padding: 15px 18px;
      }

      .admin-content {
        margin: 5px;
        padding: 20px;
      }

      .floating-shapes {
        display: none;
      }
    }

    /* Add Item Button Enhancement */
    .add-item-btn {
      background: linear-gradient(135deg, var(--success-color), #229954);
      color: white;
      border: none;
      padding: 12px 25px;
      border-radius: 12px;
      cursor: pointer;
      margin: 15px 0;
      font-family: 'Vazirmatn', 'Inter', sans-serif;
      font-weight: 600;
      display: none;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    .add-item-btn::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      transition: all 0.4s ease;
      transform: translate(-50%, -50%);
    }

    .add-item-btn:hover::before {
      width: 100%;
      height: 100%;
    }

    .add-item-btn:hover {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 10px 30px rgba(39, 174, 96, 0.4);
    }

    .admin-mode .add-item-btn {
      display: inline-block;
    }

    /* Language Specific Enhancements */
    html:lang(en) {
      font-family: 'Inter', 'Vazirmatn', sans-serif;
    }

    html:lang(en) details.accordion summary {
      direction: ltr;
    }

    html:lang(en) details.accordion > div {
      direction: ltr;
      text-align: left;
    }

    html:lang(fa) details.accordion > div {
      direction: rtl;
      text-align: right;
    }

    html:lang(en) body {
      direction: ltr;
    }

    html:lang(en) .menu-item:hover {
      transform: translateX(-8px) scale(1.02);
    }

    html:lang(en) nav a:hover {
      transform: translateX(-8px) scale(1.05);
    }

    html:lang(en) .item-row:hover {
      transform: translateX(-8px);
    }

    html:lang(en) .admin-btn {
      left: 30px;
      right: auto;
    }

    /* Advanced Animations */
    @keyframes typewriter {
      from { width: 0; }
      to { width: 100%; }
    }

    .typewriter {
      overflow: hidden;
      border-right: 2px solid var(--accent-color);
      white-space: nowrap;
      animation: typewriter 3s steps(40, end), blink 0.75s step-end infinite;
    }

    @keyframes blink {
      from, to { border-color: transparent; }
      50% { border-color: var(--accent-color); }
    }

    /* Scroll Animations */
    .scroll-reveal {
      opacity: 0;
      transform: translateY(50px);
      transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .scroll-reveal.revealed {
      opacity: 1;
      transform: translateY(0);
    }

  </style>
</head>
<body>
  <!-- Loading Screen -->
  <div class="loading" id="loading">
    <div class="spinner"></div>
    <div class="loading-text" data-fa="در حال بارگذاری..." data-en="Loading...">در حال بارگذاری...</div>
  </div>

  <!-- Animated Background Particles -->
  <div class="particles" id="particles"></div>
  
  <!-- Floating Shapes -->
  <div class="floating-shapes" id="floatingShapes"></div>

  <header>
    <div class="header-top">
      <div class="header-left">
        <button class="button" onclick="toggleTheme()" data-fa="🌙 / ☀️" data-en="🌙 / ☀️">🌙 / ☀️</button>
      </div>
      <h1 id="site-title">افراز کافه</h1>
      <div class="header-right">
        <button class="lang-switch" onclick="switchLang()" data-fa="🌐 FA / EN" data-en="🌐 EN / FA">🌐 FA / EN</button>
      </div>
    </div>
  </header>

  <!-- ULTIMATE ENHANCED ADMIN BUTTON -->
  <button class="admin-btn" onclick="showAdminLogin()" title="پنل مدیریت" data-title-fa="پنل مدیریت پیشرفته" data-title-en="Advanced Admin Panel">
    <span class="admin-btn-icon">👨‍💼</span>
    <span class="admin-btn-text" data-fa="مدیریت" data-en="ADMIN">مدیریت</span>
    <div class="admin-btn-badge">!</div>
  </button>

  <!-- Enhanced Sync Indicator -->
  <div class="sync-indicator" id="syncIndicator" data-fa="🔄 همگام‌سازی..." data-en="🔄 Syncing...">🔄 همگام‌سازی...</div>

  <button class="toggle-nav" onclick="toggleNav()">☰</button>
  <nav id="menu-nav">
    <ul id="navList">
      <li><a href="#coffee" data-fa="انواع قهوه" data-en="Coffee Types">انواع قهوه</a></li>
      <li><a href="#icecoffee" data-fa="آیس کافی" data-en="Iced Coffee">آیس کافی</a></li>
      <li><a href="#brew" data-fa="قهوه دمی" data-en="Brewed Coffee">قهوه دمی</a></li>
      <li><a href="#hotdrinks" data-fa="نوشیدنی گرم" data-en="Hot Drinks">نوشیدنی گرم</a></li>
      <li><a href="#tea" data-fa="چای و دمنوش" data-en="Tea & Herbal">چای و دمنوش</a></li>
      <li><a href="#shakes" data-fa="شیک‌ها" data-en="Shakes">شیک‌ها</a></li>
      <li><a href="#smoothies" data-fa="اسموتی‌ها" data-en="Smoothies">اسموتی‌ها</a></li>
      <li><a href="#cakes" data-fa="کیک‌ها" data-en="Cakes">کیک‌ها</a></li>
      <li><a href="#mocktails" data-fa="ماکیتل‌ها" data-en="Mocktails">ماکیتل‌ها</a></li>
      <li><a href="#syrups" data-fa="شربت و آبمیوه" data-en="Syrups & Juices">شربت و آبمیوه</a></li>
      <li><a href="#about" data-fa="درباره ما" data-en="About Us">درباره ما</a></li>
    </ul>
  </nav>

  <!-- ULTIMATE ADMIN PANEL -->
  <div class="admin-panel" id="adminPanel">
    <div class="admin-content">
      <div class="admin-header">
        <h2 data-fa="🚀 پنل مدیریت پیشرفته افراز" data-en="🚀 Afraz Advanced Admin Panel">🚀 پنل مدیریت پیشرفته افراز</h2>
        <button class="close-admin" onclick="closeAdmin()">×</button>
      </div>
      
      <div id="loginForm" class="login-form">
        <h3 data-fa="🔐 ورود به پنل مدیریت" data-en="🔐 Admin Panel Login">🔐 ورود به پنل مدیریت</h3>
        <div class="form-group">
          <input type="password" id="adminPassword" data-placeholder-fa="رمز عبور" data-placeholder-en="Password" placeholder="رمز عبور">
        </div>
        <button onclick="adminLogin()" data-fa="🚀 ورود" data-en="🚀 Login">🚀 ورود</button>
        
        <div class="forgot-password">
          <h4 data-fa="🔑 فراموشی رمز عبور" data-en="🔑 Forgot Password">🔑 فراموشی رمز عبور</h4>
          <div class="form-group">
            <input type="tel" id="phoneNumber" data-placeholder-fa="شماره موبایل" data-placeholder-en="Phone Number" placeholder="شماره موبایل" maxlength="11">
            <input type="password" id="newPassword" data-placeholder-fa="رمز عبور جدید" data-placeholder-en="New Password" placeholder="رمز عبور جدید" style="display: none;">
          </div>
          <button onclick="resetPassword()" id="resetBtn" data-fa="🔄 بازیابی رمز" data-en="🔄 Reset Password">🔄 بازیابی رمز</button>
        </div>
      </div>

      <div id="adminControls" style="display: none;">
        <!-- Dashboard Stats -->
        <div class="admin-dashboard" id="adminDashboard">
          <div class="dashboard-card">
            <h4 data-fa="📊 کل آیتم‌ها" data-en="📊 Total Items">📊 کل آیتم‌ها</h4>
            <div class="dashboard-stat" id="totalItems">0</div>
            <div class="dashboard-label" data-fa="آیتم در منو" data-en="items in menu">آیتم در منو</div>
          </div>
          <div class="dashboard-card">
            <h4 data-fa="💰 میانگین قیمت" data-en="💰 Average Price">💰 میانگین قیمت</h4>
            <div class="dashboard-stat" id="avgPrice">0</div>
            <div class="dashboard-label" data-fa="تومان" data-en="Toman">تومان</div>
          </div>
          <div class="dashboard-card">
            <h4 data-fa="📈 گران‌ترین آیتم" data-en="📈 Most Expensive">📈 گران‌ترین آیتم</h4>
            <div class="dashboard-stat" id="maxPrice">0</div>
            <div class="dashboard-label" data-fa="تومان" data-en="Toman">تومان</div>
          </div>
          <div class="dashboard-card">
            <h4 data-fa="📉 ارزان‌ترین آیتم" data-en="📉 Cheapest Item">📉 ارزان‌ترین آیتم</h4>
            <div class="dashboard-stat" id="minPrice">0</div>
            <div class="dashboard-label" data-fa="تومان" data-en="Toman">تومان</div>
          </div>
        </div>

        <!-- Enhanced Admin Tabs -->
        <div class="admin-tabs">
          <button class="admin-tab active" onclick="showAdminSection('add')" data-fa="➕ اضافه کردن" data-en="➕ Add Item">➕ اضافه کردن</button>
          <button class="admin-tab" onclick="showAdminSection('manage')" data-fa="📝 مدیریت آیتم‌ها" data-en="📝 Manage Items">📝 مدیریت آیتم‌ها</button>
          <button class="admin-tab" onclick="showAdminSection('analytics')" data-fa="📊 آمار و تحلیل" data-en="📊 Analytics">📊 آمار و تحلیل</button>
          <button class="admin-tab" onclick="showAdminSection('settings')" data-fa="⚙️ تنظیمات" data-en="⚙️ Settings">⚙️ تنظیمات</button>
        </div>

        <!-- Add Item Section -->
        <div id="addSection" class="admin-section active">
          <div class="admin-form">
            <h3 data-fa="✨ اضافه کردن آیتم جدید" data-en="✨ Add New Item">✨ اضافه کردن آیتم جدید</h3>
            <div class="form-group">
              <label class="form-label" data-fa="دسته‌بندی" data-en="Category">دسته‌بندی</label>
              <select id="categorySelect">
                <option value="coffee" data-fa="انواع قهوه" data-en="Coffee Types">انواع قهوه</option>
                <option value="icecoffee" data-fa="آیس کافی" data-en="Iced Coffee">آیس کافی</option>
                <option value="brew" data-fa="قهوه دمی" data-en="Brewed Coffee">قهوه دمی</option>
                <option value="hotdrinks" data-fa="نوشیدنی گرم" data-en="Hot Drinks">نوشیدنی گرم</option>
                <option value="tea" data-fa="چای و دمنوش" data-en="Tea & Herbal">چای و دمنوش</option>
                <option value="shakes" data-fa="شیک‌ها" data-en="Shakes">شیک‌ها</option>
                <option value="smoothies" data-fa="اسموتی‌ها" data-en="Smoothies">اسموتی‌ها</option>
                <option value="cakes" data-fa="کیک‌ها" data-en="Cakes">کیک‌ها</option>
                <option value="mocktails" data-fa="ماکیتل‌ها" data-en="Mocktails">ماکیتل‌ها</option>
                <option value="syrups" data-fa="شربت و آبمیوه" data-en="Syrups & Juices">شربت و آبمیوه</option>
              </select>
            </div>
            <div class="form-group">
              <label class="form-label" data-fa="نام آیتم" data-en="Item Name">نام آیتم</label>
              <input type="text" id="itemName" data-placeholder-fa="نام آیتم" data-placeholder-en="Item Name" placeholder="نام آیتم">
            </div>
            <div class="form-group">
              <label class="form-label" data-fa="قیمت (تومان)" data-en="Price (Toman)">قیمت (تومان)</label>
              <input type="number" id="itemPrice" data-placeholder-fa="قیمت (تومان)" data-placeholder-en="Price (Toman)" placeholder="قیمت (تومان)">
            </div>
            <button onclick="addMenuItem()" data-fa="🚀 اضافه کردن" data-en="🚀 Add Item">🚀 اضافه کردن</button>
          </div>

          <div id="editForm" style="display: none;" class="admin-form">
            <h3 data-fa="✏️ ویرایش آیتم" data-en="✏️ Edit Item">✏️ ویرایش آیتم</h3>
            <div class="form-group">
              <label class="form-label" data-fa="نام آیتم" data-en="Item Name">نام آیتم</label>
              <input type="text" id="editItemName" data-placeholder-fa="نام آیتم" data-placeholder-en="Item Name" placeholder="نام آیتم">
            </div>
            <div class="form-group">
              <label class="form-label" data-fa="قیمت (تومان)" data-en="Price (Toman)">قیمت (تومان)</label>
              <input type="number" id="editItemPrice" data-placeholder-fa="قیمت (تومان)" data-placeholder-en="Price (Toman)" placeholder="قیمت (تومان)">
            </div>
            <button onclick="saveEdit()" data-fa="💾 ذخیره تغییرات" data-en="💾 Save Changes">💾 ذخیره تغییرات</button>
            <button onclick="cancelEdit()" style="background: #95a5a6;" data-fa="❌ لغو" data-en="❌ Cancel">❌ لغو</button>
          </div>
        </div>

        <!-- Manage Items Section -->
        <div id="manageSection" class="admin-section">
          <h3 data-fa="📋 مدیریت آیتم‌های منو" data-en="📋 Manage Menu Items">📋 مدیریت آیتم‌های منو</h3>
          <div class="items-search">
            <input type="text" id="searchItems" data-placeholder-fa="🔍 جستجو در آیتم‌ها..." data-placeholder-en="🔍 Search items..." placeholder="🔍 جستجو در آیتم‌ها..." onkeyup="searchItems()">
          </div>
          <div id="itemsList">
            <!-- Items will be loaded here -->
          </div>
        </div>

        <!-- Analytics Section -->
        <div id="analyticsSection" class="admin-section">
          <h3 data-fa="📊 آمار و تحلیل منو" data-en="📊 Menu Analytics">📊 آمار و تحلیل منو</h3>
          <div class="admin-dashboard">
            <div class="dashboard-card">
              <h4 data-fa="☕ قهوه‌ها" data-en="☕ Coffee Items">☕ قهوه‌ها</h4>
              <div class="dashboard-stat" id="coffeeCount">0</div>
              <div class="dashboard-label" data-fa="آیتم" data-en="items">آیتم</div>
            </div>
            <div class="dashboard-card">
              <h4 data-fa="🥤 نوشیدنی‌ها" data-en="🥤 Beverages">🥤 نوشیدنی‌ها</h4>
              <div class="dashboard-stat" id="beverageCount">0</div>
              <div class="dashboard-label" data-fa="آیتم" data-en="items">آیتم</div>
            </div>
            <div class="dashboard-card">
              <h4 data-fa="🍰 دسرها" data-en="🍰 Desserts">🍰 دسرها</h4>
              <div class="dashboard-stat" id="dessertCount">0</div>
              <div class="dashboard-label" data-fa="آیتم" data-en="items">آیتم</div>
            </div>
            <div class="dashboard-card">
              <h4 data-fa="📈 رشد منو" data-en="📈 Menu Growth">📈 رشد منو</h4>
              <div class="dashboard-stat" id="menuGrowth">+0%</div>
              <div class="dashboard-label" data-fa="این ماه" data-en="this month">این ماه</div>
            </div>
          </div>
          
          <div class="admin-form">
            <h4 data-fa="📊 تحلیل قیمت‌ها" data-en="📊 Price Analysis">📊 تحلیل قیمت‌ها</h4>
            <div id="priceAnalysis">
              <!-- Price analysis will be loaded here -->
            </div>
          </div>
        </div>

        <!-- Settings Section -->
        <div id="settingsSection" class="admin-section">
          <h3 data-fa="⚙️ تنظیمات سیستم" data-en="⚙️ System Settings">⚙️ تنظیمات سیستم</h3>
          <div class="settings-grid">
            <div class="settings-card">
              <h4 data-fa="🔄 بازگردانی منو" data-en="🔄 Reset Menu">🔄 بازگردانی منو</h4>
              <p data-fa="بازگردانی منو به حالت اصلی" data-en="Reset menu to default state">بازگردانی منو به حالت اصلی</p>
              <button onclick="resetMenu()" style="background: var(--admin-color);" data-fa="🔄 بازگردانی" data-en="🔄 Reset">🔄 بازگردانی</button>
            </div>
            
            <div class="settings-card">
              <h4 data-fa="📥 دریافت فایل" data-en="📥 Export Data">📥 دریافت فایل</h4>
              <p data-fa="دریافت فایل JSON منو" data-en="Download menu JSON file">دریافت فایل JSON منو</p>
              <button onclick="exportMenu()" style="background: var(--info-color);" data-fa="📥 دانلود" data-en="📥 Download">📥 دانلود</button>
            </div>
            
            <div class="settings-card">
              <h4 data-fa="🔐 تغییر رمز" data-en="🔐 Change Password">🔐 تغییر رمز</h4>
              <p data-fa="تغییر رمز عبور پنل مدیریت" data-en="Change admin panel password">تغییر رمز عبور پنل مدیریت</p>
              <button onclick="changePassword()" style="background: var(--purple-color);" data-fa="🔐 تغییر رمز" data-en="🔐 Change">🔐 تغییر رمز</button>
            </div>
            
            <div class="settings-card">
              <h4 data-fa="🗑️ پاک کردن داده‌ها" data-en="🗑️ Clear Data">🗑️ پاک کردن داده‌ها</h4>
              <p data-fa="حذف تمام داده‌های ذخیره شده" data-en="Delete all stored data">حذف تمام داده‌های ذخیره شده</p>
              <button onclick="clearAllData()" style="background: var(--warning-color);" data-fa="🗑️ پاک کردن" data-en="🗑️ Clear">🗑️ پاک کردن</button>
            </div>
            
            <div class="settings-card">
              <h4 data-fa="📊 آمار سیستم" data-en="📊 System Stats">📊 آمار سیستم</h4>
              <p data-fa="مشاهده آمار کلی سیستم" data-en="View overall system statistics">مشاهده آمار کلی سیستم</p>
              <button onclick="showSystemStats()" style="background: var(--success-color);" data-fa="📊 مشاهده" data-en="📊 View">📊 مشاهده</button>
            </div>
            
            <div class="settings-card">
              <h4 data-fa="🎨 تنظیمات ظاهری" data-en="🎨 Theme Settings">🎨 تنظیمات ظاهری</h4>
              <p data-fa="تغییر تم و رنگ‌بندی سایت" data-en="Change site theme and colors">تغییر تم و رنگ‌بندی سایت</p>
              <button onclick="showThemeSettings()" style="background: linear-gradient(135deg, #e74c3c, #f39c12);" data-fa="🎨 تنظیمات" data-en="🎨 Settings">🎨 تنظیمات</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="menuContent">
    <!-- Menu content will be loaded here -->
  </div>

  <footer>
    <p data-fa="🚀 طراحی شده توسط تیم افراز - تمامی حقوق محفوظ است © 2025" data-en="🚀 Designed by Afraz Team - All Rights Reserved © 2025">🚀 طراحی شده توسط تیم افراز - تمامی حقوق محفوظ است © 2025</p>
    <p>
      <a href="https://www.instagram.com/afraz_cafe?igsh=YmF6bWN4ZXE2aHd0" target="_blank" data-fa="✨ صفحه اینستاگرام ما را دنبال کنید" data-en="✨ Follow our Instagram page">
        ✨ صفحه اینستاگرام ما را دنبال کنید
      </a>
    </p>
  </footer>

<script>
// Enhanced translations object
const translations = {
  fa: {
    // Menu categories
    coffee: "☕ انواع قهوه",
    icecoffee: "🧊 آیس کافی", 
    brew: "🥄 قهوه دمی",
    hotdrinks: "🔥 نوشیدنی گرم",
    tea: "🍵 چای و دمنوش",
    shakes: "🥤 شیک‌ها",
    smoothies: "🍓 اسموتی‌ها",
    cakes: "🍰 کیک‌ها",
    mocktails: "🍹 ماکیتل‌ها",
    syrups: "🥤 شربت و آبمیوه",
    about: "📍 درباره ما",
    
    // Messages
    loginSuccess: "🎉 ورود موفقیت‌آمیز! حالا می‌توانید منو را مدیریت کنید.",
    wrongPassword: "❌ رمز عبور اشتباه است!",
    fillAllFields: "⚠️ لطفاً تمام فیلدها را پر کنید!",
    itemAdded: "✅ آیتم جدید با موفقیت اضافه شد!",
    changesSaved: "💾 تغییرات با موفقیت ذخیره شد!",
    itemDeleted: "🗑️ آیتم با موفقیت حذف شد!",
    confirmDelete: "⚠️ آیا مطمئن هستید که می‌خواهید این آیتم را حذف کنید؟",
    confirmReset: "⚠️ آیا مطمئن هستید که می‌خواهید منو را به حالت اصلی بازگردانید؟",
    menuReset: "🔄 منو با موفقیت به حالت اصلی بازگردانده شد!",
    passwordChanged: "🔐 رمز عبور با موفقیت تغییر یافت!",
    passwordMinLength: "⚠️ رمز عبور باید حداقل ۴ کاراکتر باشد!",
    wrongPhoneNumber: "❌ شماره موبایل صحیح نیست!",
    confirmClearData: "⚠️ آیا مطمئن هستید که می‌خواهید تمام داده‌ها را پاک کنید؟ این عمل غیرقابل بازگشت است!",
    allDataCleared: "🗑️ تمام داده‌ها پاک شدند! صفحه را رفرش کنید.",
    enterNewPassword: "🔐 رمز عبور جدید را وارد کنید:",
    
    // Buttons
    edit: "✏️ ویرایش",
    delete: "🗑️ حذف",
    confirmNewPassword: "✅ تایید رمز جدید"
  },
  en: {
    // Menu categories
    coffee: "☕ Coffee Types",
    icecoffee: "🧊 Iced Coffee", 
    brew: "🥄 Brewed Coffee",
    hotdrinks: "🔥 Hot Drinks",
    tea: "🍵 Tea & Herbal",
    shakes: "🥤 Shakes",
    smoothies: "🍓 Smoothies",
    cakes: "🍰 Cakes",
    mocktails: "🍹 Mocktails",
    syrups: "🥤 Syrups & Juices",
    about: "📍 About Us",
    
    // Messages
    loginSuccess: "🎉 Login successful! You can now manage the menu.",
    wrongPassword: "❌ Incorrect password!",
    fillAllFields: "⚠️ Please fill all fields!",
    itemAdded: "✅ New item added successfully!",
    changesSaved: "💾 Changes saved successfully!",
    itemDeleted: "🗑️ Item deleted successfully!",
    confirmDelete: "⚠️ Are you sure you want to delete this item?",
    confirmReset: "⚠️ Are you sure you want to reset the menu to default?",
    menuReset: "🔄 Menu has been reset to default successfully!",
    passwordChanged: "🔐 Password changed successfully!",
    passwordMinLength: "⚠️ Password must be at least 4 characters!",
    wrongPhoneNumber: "❌ Incorrect phone number!",
    confirmClearData: "⚠️ Are you sure you want to clear all data? This action cannot be undone!",
    allDataCleared: "🗑️ All data cleared! Please refresh the page.",
    enterNewPassword: "🔐 Enter new password:",
    
    // Buttons
    edit: "✏️ Edit",
    delete: "🗑️ Delete",
    confirmNewPassword: "✅ Confirm New Password"
  }
};

// Enhanced default menu data with English names
const defaultMenuData = {
  coffee: [
    {name: "اسپرسو سینگل", nameEn: "Single Espresso", price: 45000, id: "coffee_1"},
    {name: "اسپرسو دبل", nameEn: "Double Espresso", price: 55000, id: "coffee_2"},
    {name: "آمریکانو", nameEn: "Americano", price: 65000, id: "coffee_3"},
    {name: "لته", nameEn: "Latte", price: 90000, id: "coffee_4"},
    {name: "کاپوچینو", nameEn: "Cappuccino", price: 90000, id: "coffee_5"},
    {name: "افوگاتو", nameEn: "Affogato", price: 110000, id: "coffee_6"},
    {name: "موکا", nameEn: "Mocha", price: 100000, id: "coffee_7"},
    {name: "کارامل ماکیاتو", nameEn: "Caramel Macchiato", price: 100000, id: "coffee_8"}
  ],
  icecoffee: [
    {name: "آیس آمریکانو", nameEn: "Iced Americano", price: 70000, id: "ice_1"},
    {name: "آیس لته", nameEn: "Iced Latte", price: 100000, id: "ice_2"},
    {name: "آیس موکا", nameEn: "Iced Mocha", price: 110000, id: "ice_3"},
    {name: "آیس کارامل ماکیاتو", nameEn: "Iced Caramel Macchiato", price: 110000, id: "ice_4"}
  ],
  brew: [
    {name: "قهوه ترک", nameEn: "Turkish Coffee", price: 70000, id: "brew_1"},
    {name: "گلد", nameEn: "Gold Coffee", price: 50000, id: "brew_2"},
    {name: "دله عربی", nameEn: "Arabic Dallah", price: 80000, id: "brew_3"}
  ],
  hotdrinks: [
    {name: "هات چاکلت", nameEn: "Hot Chocolate", price: 90000, id: "hot_1"},
    {name: "وایت چاکلت", nameEn: "White Chocolate", price: 80000, id: "hot_2"},
    {name: "چای ماسالا", nameEn: "Masala Tea", price: 80000, id: "hot_3"}
  ],
  tea: [
    {name: "چای سیاه", nameEn: "Black Tea", price: 35000, id: "tea_1"},
    {name: "چای سبز", nameEn: "Green Tea", price: 50000, id: "tea_2"},
    {name: "چای دارچین", nameEn: "Cinnamon Tea", price: 45000, id: "tea_3"},
    {name: "دمنوش آرامش", nameEn: "Relaxing Herbal Tea", price: 80000, id: "tea_4"},
    {name: "دمنوش نشاط", nameEn: "Energizing Herbal Tea", price: 80000, id: "tea_5"},
    {name: "دمنوش سیب", nameEn: "Apple Herbal Tea", price: 80000, id: "tea_6"},
    {name: "دمنوش ترش", nameEn: "Sour Herbal Tea", price: 80000, id: "tea_7"},
    {name: "دمنوش ویژه افراز", nameEn: "Afraz Special Herbal Tea", price: 100000, id: "tea_8"}
  ],
  shakes: [
    {name: "شیک نوتلا", nameEn: "Nutella Shake", price: 140000, id: "shake_1"},
    {name: "شیک اورئو", nameEn: "Oreo Shake", price: 130000, id: "shake_2"},
    {name: "شیک لوتوس", nameEn: "Lotus Shake", price: 130000, id: "shake_3"},
    {name: "شیک چیز کیک", nameEn: "Cheesecake Shake", price: 140000, id: "shake_4"},
    {name: "شیک توت فرنگی", nameEn: "Strawberry Shake", price: 130000, id: "shake_5"}
  ],
  smoothies: [
    {name: "پیناکولادا", nameEn: "Pina Colada", price: 130000, id: "smooth_1"},
    {name: "FRESH", nameEn: "FRESH", price: 130000, id: "smooth_2"},
    {name: "LOVELY", nameEn: "LOVELY", price: 140000, id: "smooth_3"}
  ],
  cakes: [
    {name: "تیرامیسو", nameEn: "Tiramisu", price: 60000, id: "cake_1"},
    {name: "چیز کیک", nameEn: "Cheesecake", price: 70000, id: "cake_2"}
  ],
  mocktails: [
    {name: "گلکسی", nameEn: "Galaxy", price: 140000, id: "mock_1"},
    {name: "کارولین", nameEn: "Caroline", price: 140000, id: "mock_2"},
    {name: "اناهیل", nameEn: "Anahil", price: 140000, id: "mock_3"},
    {name: "موهیتو کلاسیک", nameEn: "Classic Mojito", price: 130000, id: "mock_4"},
    {name: "رد موهیتو", nameEn: "Red Mojito", price: 130000, id: "mock_5"},
    {name: "پشن میلک", nameEn: "Passion Milk", price: 150000, id: "mock_6"}
  ],
  syrups: [
    {name: "شربت زعفران", nameEn: "Saffron Syrup", price: 60000, id: "syrup_1"},
    {name: "آب البالو", nameEn: "Sour Cherry Juice", price: 30000, id: "syrup_2"},
    {name: "آب سیب", nameEn: "Apple Juice", price: 30000, id: "syrup_3"},
    {name: "آب آناناس", nameEn: "Pineapple Juice", price: 30000, id: "syrup_4"},
    {name: "آب انگور", nameEn: "Grape Juice", price: 30000, id: "syrup_5"}
  ]
};

let menuData = {};
let isAdminMode = false;
let editingItem = null;
let syncInterval;
let currentLang = 'fa';

// Initialize everything
document.addEventListener('DOMContentLoaded', () => {
  createAdvancedParticles();
  createFloatingShapes();
  applySystemTheme();
  initMenu();
  
  // Hide loading screen with animation
  setTimeout(() => {
    document.getElementById('loading').classList.add('hide');
  }, 1500);
  
  // Initialize scroll animations
  initScrollAnimations();
});

// Create advanced animated particles
function createAdvancedParticles() {
  const particles = document.getElementById('particles');
  const particleCount = window.innerWidth < 768 ? 30 : 80;
  
  for (let i = 0; i < particleCount; i++) {
    const particle = document.createElement('div');
    const isLarge = Math.random() > 0.8;
    const isPulse = Math.random() > 0.7;
    
    particle.className = `particle ${isLarge ? 'large' : ''} ${isPulse ? 'pulse' : ''}`;
    particle.style.left = Math.random() * 100 + '%';
    particle.style.top = Math.random() * 100 + '%';
    particle.style.animationDelay = Math.random() * 8 + 's';
    particle.style.animationDuration = (Math.random() * 4 + 4) + 's';
    
    particles.appendChild(particle);
  }
}

// Create floating shapes
function createFloatingShapes() {
  const shapes = document.getElementById('floatingShapes');
  const shapeCount = window.innerWidth < 768 ? 5 : 15;
  const shapeTypes = ['circle', 'square', 'triangle'];
  
  for (let i = 0; i < shapeCount; i++) {
    const shape = document.createElement('div');
    const shapeType = shapeTypes[Math.floor(Math.random() * shapeTypes.length)];
    const size = Math.random() * 20 + 10;
    
    shape.className = `shape ${shapeType}`;
    shape.style.left = Math.random() * 100 + '%';
    shape.style.width = size + 'px';
    shape.style.height = size + 'px';
    shape.style.animationDelay = Math.random() * 20 + 's';
    shape.style.animationDuration = (Math.random() * 10 + 15) + 's';
    
    shapes.appendChild(shape);
  }
}

// Initialize scroll animations
function initScrollAnimations() {
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
  };
  
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('revealed');
      }
    });
  }, observerOptions);
  
  // Add scroll reveal class to elements
  document.querySelectorAll('details.accordion').forEach(el => {
    el.classList.add('scroll-reveal');
    observer.observe(el);
  });
}

// Get current translation
function t(key) {
  return translations[currentLang][key] || key;
}

// Get category title
function getCategoryTitle(category) {
  return translations[currentLang][category] || category;
}

// Initialize menu
function initMenu() {
  const savedMenu = localStorage.getItem('afrazCafeMenu');
  if (savedMenu) {
    menuData = JSON.parse(savedMenu);
  } else {
    menuData = JSON.parse(JSON.stringify(defaultMenuData));
  }
  renderMenu();
  startSync();
}

// Real-time sync for QR code updates
function startSync() {
  syncInterval = setInterval(() => {
    const currentData = JSON.stringify(menuData);
    const savedData = localStorage.getItem('afrazCafeMenu');
    
    if (savedData && currentData !== savedData) {
      menuData = JSON.parse(savedData);
      renderMenu();
      loadItemsList();
      updateDashboard();
      showSyncIndicator();
    }
  }, 1000);
}

function showSyncIndicator() {
  const indicator = document.getElementById('syncIndicator');
  indicator.classList.add('show');
  setTimeout(() => {
    indicator.classList.remove('show');
  }, 3000);
}

// Save menu to localStorage
function saveMenu() {
  const menuWithTimestamp = {
    ...menuData,
    lastUpdated: Date.now()
  };
  localStorage.setItem('afrazCafeMenu', JSON.stringify(menuData));
  localStorage.setItem('afrazCafeMenuSync', JSON.stringify(menuWithTimestamp));
  showSyncIndicator();
}

// Format price with enhanced styling
function formatPrice(price) {
  return price.toLocaleString(currentLang === 'fa' ? 'fa-IR' : 'en-US') + (currentLang === 'fa' ? ' تومان' : ' Toman');
}

// Enhanced render menu function
function renderMenu() {
  const menuContent = document.getElementById('menuContent');
  let html = '';

  Object.keys(menuData).forEach(category => {
    const items = menuData[category];
    if (items.length === 0) return;

    const categoryTitle = getCategoryTitle(category);
    
    html += `
      <details class="accordion scroll-reveal">
        <summary data-fa="${translations.fa[category]}" data-en="${translations.en[category]}">${categoryTitle}</summary>
        <div id="${category}">
          <div class="menu-row">
            <div class="menu-column">
              ${isAdminMode ? `<button class="add-item-btn" onclick="showAddForm('${category}')" data-fa="✨ اضافه کردن آیتم" data-en="✨ Add Item">✨ ${currentLang === 'fa' ? 'اضافه کردن آیتم' : 'Add Item'}</button>` : ''}
              ${items.map((item, index) => {
                const itemName = currentLang === 'fa' ? item.name : (item.nameEn || item.name);
                return `
                  <div class="menu-item ${isAdminMode ? 'admin-mode' : ''}" data-fa="${item.name}|${formatPrice(item.price)}" data-en="${item.nameEn || item.name}|${formatPrice(item.price)}">
                    <span>${itemName}</span>
                    <span>${formatPrice(item.price)}</span>
                    ${isAdminMode ? `
                      <div class="admin-controls">
                        <button class="admin-btn-small edit" onclick="editItem('${category}', ${index})" title="${t('edit')}">✏️</button>
                        <button class="admin-btn-small delete" onclick="deleteItem('${category}', ${index})" title="${t('delete')}">🗑️</button>
                      </div>
                    ` : ''}
                  </div>
                `;
              }).join('')}
            </div>
          </div>
        </div>
      </details>
    `;
  });

  // Enhanced about section
  html += `
    <details class="accordion scroll-reveal">
      <summary data-fa="📍 درباره ما" data-en="📍 About Us">${getCategoryTitle('about')}</summary>
      <div id="about">
        <div class="menu-row">
          <div class="menu-column">
            ${currentLang === 'fa' ? `
              <p>
                🌟 کافه افراز با هدف ایجاد فضایی دل‌نشین و صمیمی برای علاقه‌مندان به قهوه و نوشیدنی‌های خاص تأسیس شده است.
                ما با استفاده از بهترین دانه‌های قهوه و مواد اولیه باکیفیت، تلاش می‌کنیم تجربه‌ای بی‌نظیر از طعم و عطر را برای مشتریان خود فراهم کنیم.
              </p>
              <p>
                ☕ در محیطی آرام و دوستانه، کافه افراز مکانی مناسب برای دیدارهای دوستانه، جلسات کاری یا لحظاتی برای خودتان است.
                تیم ما متعهد به ارائه خدماتی حرفه‌ای و صمیمانه است تا هر بار که به ما سر می‌زنید، خاطره‌ای خوش برایتان رقم بخورد.
              </p>
              <p><strong>📍 آدرس:</strong> دولت‌آباد، خیابان دهخدا، زیر ساختمان دهخدا، پلاک ۶</p>
              <p><strong>🕐 ساعات کاری:</strong> همه‌روزه از ساعت ۷ صبح تا ۱۲ شب</p>
              <p><a href="https://maps.app.goo.gl/xktG43d9Ag8Bgfo56" target="_blank" style="color: #f6c90e; text-decoration: underline;">🗺️ مشاهده موقعیت مکانی روی نقشه</a></p>
            ` : `
              <p>
                🌟 Afraz Cafe was established with the goal of creating a cozy and intimate space for coffee and specialty drink enthusiasts.
                Using the finest coffee beans and high-quality ingredients, we strive to provide an unparalleled experience of taste and aroma for our customers.
              </p>
              <p>
                ☕ In a calm and friendly environment, Afraz Cafe is a suitable place for friendly meetings, business sessions, or moments for yourself.
                Our team is committed to providing professional and sincere services so that every time you visit us, you create good memories.
              </p>
              <p><strong>📍 Address:</strong> Dowlat Abad, Dehkhoda Street, Under Dehkhoda Building, No. 6</p>
              <p><strong>🕐 Working Hours:</strong> Daily from 7 AM to 12 PM</p>
              <p><a href="https://maps.app.goo.gl/xktG43d9Ag8Bgfo56" target="_blank" style="color: #f6c90e; text-decoration: underline;">🗺️ View location on map</a></p>
            `}
          </div>
        </div>
      </div>
    </details>
  `;

  menuContent.innerHTML = html;
  setupAccordions();
  initScrollAnimations();
}

// Enhanced accordion setup
function setupAccordions() {
  document.querySelectorAll('details.accordion').forEach(detail => {
    const summary = detail.querySelector('summary');

    summary.addEventListener('mouseenter', () => {
      detail.setAttribute('open', true);
    });

    summary.addEventListener('click', (e) => {
      e.preventDefault();
      const isOpen = detail.hasAttribute('open');
      document.querySelectorAll('details.accordion').forEach(d => d.removeAttribute('open'));
      if (!isOpen) detail.setAttribute('open', true);
    });

    detail.addEventListener('mouseleave', () => {
      detail.removeAttribute('open');
    });
  });
}

// Enhanced admin section management
function showAdminSection(section) {
  document.querySelectorAll('.admin-section').forEach(s => s.classList.remove('active'));
  document.querySelectorAll('.admin-tab').forEach(t => t.classList.remove('active'));
  
  document.getElementById(section + 'Section').classList.add('active');
  event.target.classList.add('active');
  
  if (section === 'manage') {
    loadItemsList();
  } else if (section === 'analytics') {
    loadAnalytics();
  }
  
  updateDashboard();
}

// Update dashboard statistics
function updateDashboard() {
  let totalItems = 0;
  let totalPrice = 0;
  let maxPrice = 0;
  let minPrice = Infinity;
  
  Object.values(menuData).forEach(category => {
    category.forEach(item => {
      totalItems++;
      totalPrice += item.price;
      maxPrice = Math.max(maxPrice, item.price);
      minPrice = Math.min(minPrice, item.price);
    });
  });
  
  const avgPrice = totalItems > 0 ? Math.round(totalPrice / totalItems) : 0;
  
  document.getElementById('totalItems').textContent = totalItems.toLocaleString(currentLang === 'fa' ? 'fa-IR' : 'en-US');
  document.getElementById('avgPrice').textContent = avgPrice.toLocaleString(currentLang === 'fa' ? 'fa-IR' : 'en-US');
  document.getElementById('maxPrice').textContent = maxPrice === 0 ? '0' : maxPrice.toLocaleString(currentLang === 'fa' ? 'fa-IR' : 'en-US');
  document.getElementById('minPrice').textContent = minPrice === Infinity ? '0' : minPrice.toLocaleString(currentLang === 'fa' ? 'fa-IR' : 'en-US');
}

// Load analytics data
function loadAnalytics() {
  let coffeeCount = 0;
  let beverageCount = 0;
  let dessertCount = 0;
  
  // Count coffee items
  coffeeCount += menuData.coffee?.length || 0;
  coffeeCount += menuData.icecoffee?.length || 0;
  coffeeCount += menuData.brew?.length || 0;
  
  // Count beverages
  beverageCount += menuData.hotdrinks?.length || 0;
  beverageCount += menuData.tea?.length || 0;
  beverageCount += menuData.shakes?.length || 0;
  beverageCount += menuData.smoothies?.length || 0;
  beverageCount += menuData.mocktails?.length || 0;
  beverageCount += menuData.syrups?.length || 0;
  
  // Count desserts
  dessertCount += menuData.cakes?.length || 0;
  
  document.getElementById('coffeeCount').textContent = coffeeCount;
  document.getElementById('beverageCount').textContent = beverageCount;
  document.getElementById('dessertCount').textContent = dessertCount;
  
  // Calculate growth (mock data)
  const growth = Math.floor(Math.random() * 20) + 5;
  document.getElementById('menuGrowth').textContent = `+${growth}%`;
  
  // Load price analysis
  loadPriceAnalysis();
}

// Load price analysis
function loadPriceAnalysis() {
  const priceAnalysis = document.getElementById('priceAnalysis');
  let html = '<div class="admin-dashboard">';
  
  Object.keys(menuData).forEach(category => {
    const items = menuData[category];
    if (items.length === 0) return;
    
    const avgPrice = items.reduce((sum, item) => sum + item.price, 0) / items.length;
    const categoryTitle = getCategoryTitle(category);
    
    html += `
      <div class="dashboard-card">
        <h4>${categoryTitle}</h4>
        <div class="dashboard-stat">${Math.round(avgPrice).toLocaleString(currentLang === 'fa' ? 'fa-IR' : 'en-US')}</div>
        <div class="dashboard-label">${currentLang === 'fa' ? 'میانگین قیمت' : 'Average Price'}</div>
      </div>
    `;
  });
  
  html += '</div>';
  priceAnalysis.innerHTML = html;
}

// Enhanced load items list
function loadItemsList() {
  const itemsList = document.getElementById('itemsList');
  let html = '';
  
  Object.keys(menuData).forEach(category => {
    const items = menuData[category];
    if (items.length === 0) return;
    
    html += `
      <div class="items-category">
        <h4>${getCategoryTitle(category)} (${items.length} ${currentLang === 'fa' ? 'آیتم' : 'items'})</h4>
        ${items.map((item, index) => {
          const itemName = currentLang === 'fa' ? item.name : (item.nameEn || item.name);
          return `
            <div class="item-row" data-search="${item.name.toLowerCase()} ${(item.nameEn || '').toLowerCase()}">
              <div class="item-info">
                <span><strong>${itemName}</strong></span>
                <span>${formatPrice(item.price)}</span>
              </div>
              <div class="item-actions">
                <button class="edit-btn" onclick="editItemFromList('${category}', ${index})">${t('edit')}</button>
                <button class="delete-btn" onclick="deleteItemFromList('${category}', ${index})">${t('delete')}</button>
              </div>
            </div>
          `;
        }).join('')}
      </div>
    `;
  });
  
  itemsList.innerHTML = html;
}

// Enhanced search items
function searchItems() {
  const searchTerm = document.getElementById('searchItems').value.toLowerCase();
  const itemRows = document.querySelectorAll('.item-row');
  
  itemRows.forEach(row => {
    const searchData = row.getAttribute('data-search');
    if (searchData.includes(searchTerm)) {
      row.style.display = 'flex';
      row.style.animation = 'fadeInUp 0.3s ease';
    } else {
      row.style.display = 'none';
    }
  });
}

// Edit item from list
function editItemFromList(category, index) {
  showAdminSection('add');
  editItem(category, index);
}

// Delete item from list
function deleteItemFromList(category, index) {
  deleteItem(category, index);
  loadItemsList();
  updateDashboard();
}

// Enhanced admin functions
function showAdminLogin() {
  document.getElementById('adminPanel').style.display = 'block';
  document.getElementById('loginForm').style.display = 'block';
  document.getElementById('adminControls').style.display = 'none';
}

function adminLogin() {
  const password = document.getElementById('adminPassword').value;
  const savedPassword = localStorage.getItem('afrazCafeAdminPassword') || 'Afraz.cafe';
  
  if (password === savedPassword) {
    document.getElementById('loginForm').style.display = 'none';
    document.getElementById('adminControls').style.display = 'block';
    isAdminMode = true;
    renderMenu();
    loadItemsList();
    updateDashboard();
    loadAnalytics();
    
    // Show success animation
    showNotification(t('loginSuccess'), 'success');
  } else {
    showNotification(t('wrongPassword'), 'error');
  }
}

// Enhanced notification system
function showNotification(message, type = 'info') {
  const notification = document.createElement('div');
  notification.className = `notification ${type}`;
  notification.style.cssText = `
    position: fixed;
    top: 20px;
    right: 20px;
    background: ${type === 'success' ? 'var(--success-color)' : type === 'error' ? 'var(--admin-color)' : 'var(--info-color)'};
    color: white;
    padding: 15px 25px;
    border-radius: 15px;
    z-index: 100000;
    font-weight: 600;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    animation: slideInRight 0.3s ease;
  `;
  notification.textContent = message;
  
  document.body.appendChild(notification);
  
  setTimeout(() => {
    notification.style.animation = 'slideOutRight 0.3s ease';
    setTimeout(() => {
      document.body.removeChild(notification);
    }, 300);
  }, 3000);
}

function resetPassword() {
  const phone = document.getElementById('phoneNumber').value;
  const resetBtn = document.getElementById('resetBtn');
  const newPasswordField = document.getElementById('newPassword');
  
  if (phone === '09015988681') {
    newPasswordField.style.display = 'block';
    resetBtn.textContent = t('confirmNewPassword');
    resetBtn.onclick = function() {
      const newPassword = newPasswordField.value;
      if (newPassword.length >= 4) {
        localStorage.setItem('afrazCafeAdminPassword', newPassword);
        showNotification(t('passwordChanged'), 'success');
        document.getElementById('phoneNumber').value = '';
        newPasswordField.value = '';
        newPasswordField.style.display = 'none';
        resetBtn.textContent = currentLang === 'fa' ? '🔄 بازیابی رمز' : '🔄 Reset Password';
        resetBtn.onclick = resetPassword;
      } else {
        showNotification(t('passwordMinLength'), 'error');
      }
    };
  } else {
    showNotification(t('wrongPhoneNumber'), 'error');
  }
}

function changePassword() {
  const newPassword = prompt(t('enterNewPassword'));
  if (newPassword && newPassword.length >= 4) {
    localStorage.setItem('afrazCafeAdminPassword', newPassword);
    showNotification(t('passwordChanged'), 'success');
  } else if (newPassword) {
    showNotification(t('passwordMinLength'), 'error');
  }
}

function clearAllData() {
  if (confirm(t('confirmClearData'))) {
    localStorage.clear();
    showNotification(t('allDataCleared'), 'success');
    setTimeout(() => location.reload(), 2000);
  }
}

function closeAdmin() {
  document.getElementById('adminPanel').style.display = 'none';
  isAdminMode = false;
  renderMenu();
}

function addMenuItem() {
  const category = document.getElementById('categorySelect').value;
  const name = document.getElementById('itemName').value.trim();
  const price = parseInt(document.getElementById('itemPrice').value);

  if (!name || !price) {
    showNotification(t('fillAllFields'), 'error');
    return;
  }

  const newId = category + '_' + Date.now();
  menuData[category].push({
    name: name,
    nameEn: name, // Can be updated later
    price: price,
    id: newId
  });

  saveMenu();
  renderMenu();
  loadItemsList();
  updateDashboard();
  
  document.getElementById('itemName').value = '';
  document.getElementById('itemPrice').value = '';
  
  showNotification(t('itemAdded'), 'success');
}

function editItem(category, index) {
  const item = menuData[category][index];
  editingItem = {category, index};
  
  document.getElementById('editItemName').value = currentLang === 'fa' ? item.name : (item.nameEn || item.name);
  document.getElementById('editItemPrice').value = item.price;
  document.getElementById('editForm').style.display = 'block';
  
  // Scroll to edit form
  document.getElementById('editForm').scrollIntoView({ behavior: 'smooth' });
}

function saveEdit() {
  if (!editingItem) return;
  
  const name = document.getElementById('editItemName').value.trim();
  const price = parseInt(document.getElementById('editItemPrice').value);
  
  if (!name || !price) {
    showNotification(t('fillAllFields'), 'error');
    return;
  }
  
  if (currentLang === 'fa') {
    menuData[editingItem.category][editingItem.index].name = name;
  } else {
    menuData[editingItem.category][editingItem.index].nameEn = name;
  }
  menuData[editingItem.category][editingItem.index].price = price;
  
  saveMenu();
  renderMenu();
  loadItemsList();
  updateDashboard();
  cancelEdit();
  showNotification(t('changesSaved'), 'success');
}

function cancelEdit() {
  editingItem = null;
  document.getElementById('editForm').style.display = 'none';
  document.getElementById('editItemName').value = '';
  document.getElementById('editItemPrice').value = '';
}

function deleteItem(category, index) {
  if (confirm(t('confirmDelete'))) {
    menuData[category].splice(index, 1);
    saveMenu();
    renderMenu();
    loadItemsList();
    updateDashboard();
    showNotification(t('itemDeleted'), 'success');
  }
}

function resetMenu() {
  if (confirm(t('confirmReset'))) {
    menuData = JSON.parse(JSON.stringify(defaultMenuData));
    saveMenu();
    renderMenu();
    loadItemsList();
    updateDashboard();
    showNotification(t('menuReset'), 'success');
  }
}

function exportMenu() {
  const dataStr = JSON.stringify(menuData, null, 2);
  const dataBlob = new Blob([dataStr], {type: 'application/json'});
  const url = URL.createObjectURL(dataBlob);
  const link = document.createElement('a');
  link.href = url;
  link.download = `afraz-cafe-menu-${new Date().toISOString().split('T')[0]}.json`;
  link.click();
  showNotification('📥 ' + (currentLang === 'fa' ? 'فایل دانلود شد!' : 'File downloaded!'), 'success');
}

// New admin functions
function showSystemStats() {
  const stats = {
    totalCategories: Object.keys(menuData).length,
    totalItems: Object.values(menuData).reduce((sum, cat) => sum + cat.length, 0),
    lastUpdate: localStorage.getItem('afrazCafeMenuSync') ? new Date(JSON.parse(localStorage.getItem('afrazCafeMenuSync')).lastUpdated).toLocaleString() : 'N/A',
    storageUsed: Math.round((JSON.stringify(localStorage).length / 1024)) + ' KB'
  };
  
  const message = currentLang === 'fa' ? 
    `📊 آمار سیستم:\n🗂️ دسته‌بندی‌ها: ${stats.totalCategories}\n📝 کل آیتم‌ها: ${stats.totalItems}\n🕐 آخرین بروزرسانی: ${stats.lastUpdate}\n💾 حافظه استفاده شده: ${stats.storageUsed}` :
    `📊 System Stats:\n🗂️ Categories: ${stats.totalCategories}\n📝 Total Items: ${stats.totalItems}\n🕐 Last Update: ${stats.lastUpdate}\n💾 Storage Used: ${stats.storageUsed}`;
  
  alert(message);
}

function showThemeSettings() {
  const themes = ['dark', 'light'];
  const currentTheme = document.body.classList.contains('light') ? 'light' : 'dark';
  const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
  
  if (confirm(currentLang === 'fa' ? 
    `🎨 تغییر تم به ${newTheme === 'light' ? 'روشن' : 'تاریک'}؟` : 
    `🎨 Change theme to ${newTheme}?`)) {
    toggleTheme();
    showNotification('🎨 ' + (currentLang === 'fa' ? 'تم تغییر یافت!' : 'Theme changed!'), 'success');
  }
}

// Enhanced theme and language functions
function toggleTheme() {
  document.documentElement.classList.toggle('light');
  document.body.classList.toggle('light');
  localStorage.setItem('theme', document.body.classList.contains('light') ? 'light' : 'dark');
}

function applySystemTheme() {
  const saved = localStorage.getItem('theme');
  if (saved) {
    if (saved === 'light') {
      document.documentElement.classList.add('light');
      document.body.classList.add('light');
    }
  } else {
    const prefersLight = window.matchMedia('(prefers-color-scheme: light)').matches;
    if (prefersLight) {
      document.documentElement.classList.add('light');
      document.body.classList.add('light');
    }
  }
}

function switchLang() {
  currentLang = currentLang === 'fa' ? 'en' : 'fa';
  document.documentElement.lang = currentLang;
  document.body.dir = currentLang === 'fa' ? 'rtl' : 'ltr';
  
  // Update site title with animation
  const title = document.getElementById('site-title');
  title.style.transform = 'scale(0.8)';
  setTimeout(() => {
    title.innerText = currentLang === 'fa' ? 'افراز کافه' : 'AFRAZ CAFE';
    title.style.transform = 'scale(1)';
  }, 200);
  
  // Update all elements with data attributes
  document.querySelectorAll('[data-fa][data-en]').forEach(el => {
    if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
      el.placeholder = el.getAttribute('data-' + currentLang);
    } else {
      el.innerText = el.getAttribute('data-' + currentLang);
    }
  });
  
  // Update placeholders
  document.querySelectorAll('[data-placeholder-fa][data-placeholder-en]').forEach(el => {
    el.placeholder = el.getAttribute('data-placeholder-' + currentLang);
  });
  
  // Update titles
  document.querySelectorAll('[data-title-fa][data-title-en]').forEach(el => {
    el.title = el.getAttribute('data-title-' + currentLang);
  });
  
  // Update category options
  document.querySelectorAll('#categorySelect option').forEach(option => {
    const category = option.value;
    if (translations[currentLang][category]) {
      option.textContent = translations[currentLang][category];
    }
  });
  
  // Re-render menu and admin content
  renderMenu();
  if (isAdminMode) {
    loadItemsList();
    updateDashboard();
    loadAnalytics();
  }
  
  showNotification('🌐 ' + (currentLang === 'fa' ? 'زبان تغییر یافت!' : 'Language changed!'), 'success');
}

function toggleNav() {
  const nav = document.getElementById('menu-nav');
  const navToggle = document.querySelector('.toggle-nav');
  
  nav.classList.toggle('active');
  
  // Add rotation animation to toggle button
  if (nav.classList.contains('active')) {
    navToggle.style.transform = 'rotate(90deg)';
  } else {
    navToggle.style.transform = 'rotate(0deg)';
  }
}

// Close navigation when clicking outside
document.addEventListener('click', (e) => {
  const nav = document.getElementById('menu-nav');
  const navToggle = document.querySelector('.toggle-nav');
  
  if (!nav.contains(e.target) && !navToggle.contains(e.target)) {
    nav.classList.remove('active');
    navToggle.style.transform = 'rotate(0deg)';
  }
});

// Cleanup on page unload
window.addEventListener('beforeunload', () => {
  if (syncInterval) {
    clearInterval(syncInterval);
  }
});

// Enhanced smooth scrolling for navigation links
document.addEventListener('click', (e) => {
  if (e.target.matches('nav a[href^="#"]')) {
    e.preventDefault();
    const target = document.querySelector(e.target.getAttribute('href'));
    if (target) {
      target.scrollIntoView({
        behavior: 'smooth',
        block: 'start'
      });
      // Close navigation on mobile
      document.getElementById('menu-nav').classList.remove('active');
    }
  }
});

// Enhanced keyboard shortcuts
document.addEventListener('keydown', (e) => {
  // Ctrl/Cmd + K to open admin panel
  if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
    e.preventDefault();
    showAdminLogin();
  }
  
  // Escape to close admin panel
  if (e.key === 'Escape') {
    closeAdmin();
  }
  
  // Ctrl/Cmd + L to switch language
  if ((e.ctrlKey || e.metaKey) && e.key === 'l') {
    e.preventDefault();
    switchLang();
  }
  
  // Ctrl/Cmd + T to toggle theme
  if ((e.ctrlKey || e.metaKey) && e.key === 't') {
    e.preventDefault();
    toggleTheme();
  }
});

// Add CSS animations for notifications
const style = document.createElement('style');
style.textContent = `
  @keyframes slideInRight {
    from { transform: translateX(100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
  }
  
  @keyframes slideOutRight {
    from { transform: translateX(0); opacity: 1; }
    to { transform: translateX(100%); opacity: 0; }
  }
`;
document.head.appendChild(style);

</script>

</body>
</html>
